#### Office 365 Configuration

Before you configure Office 365 in Auth0

* Make sure you are using an edition that supports this integration. At the moment, it works with the **Midsize** Business and any of the **Enterprise** [editions of Office 365](https://office.microsoft.com/en-us/business/compare-office-365-for-business-plans-FX102918419.aspx). 
* Verify your Office 365 domain through DNS. Follow [these instructions](https://support.office.com/en-us/article/gather-the-information-you-need-to-create-office-365-dns-records-77f90d4a-dc7f-4f09-8972-c1b03ea85a67) to complete this step.
* Have one administrator account that you can use to sign in directly into Office 365.
* Run Microsoft DirSync tool between your Active Directory and Office365 to create your user accounts. DirSync can be [downloaded from the Office 365 Portal](https://portal.microsoftonline.com/).

**Setup**
1. Open the Microsoft Azure Active Directory Module for Windows PowerShell.
2. Run `$cred = Get-Credential`. When the cmdlet prompts you for credentials, type your Office 365 Service Administrator account credentials.
    ```
    $cred = Get-Credential
    ```
3. Run `Connect-MsolService –Credential $cred`. This cmdlet connects you to Microsoft Azure AD. Creating a context that connects you to Microsoft Azure AD is required before running any of the additional cmdlets installed by the tool.
    ```
    Connect-MsolService –Credential $cred
    ```
4. Run `Set-MsolDomainAuthentication` cmdlet with the following parameters:
    ```
    Set-MsolDomainAuthentication -DomainName "your-office365domain.com" -FederationBrandName "your-office365domain.com" -Authentication Federated -PassiveLogOnUri "REDACTED" -ActiveLogonUri "REDACTED" -MetadataExchangeUri "REDACTED" -SigningCertificate "REDACTED" -IssuerUri "REDACTED" -LogOffUri "REDACTED" -PreferredAuthenticationProtocol WsFed
    ```
::note::
This cmdlet is used to change the domain authentication from standard identity to single sign-on.
::note::